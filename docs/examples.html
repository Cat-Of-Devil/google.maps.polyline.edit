<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<link rel="stylesheet" type="text/css" href="http://code.google.com/css/codesite.css"></link>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?libraries=geometry&sensor=false"></script>
<script type="text/javascript" src="../src/polyline.edit.js"></script>
<script type="text/javascript">
  function initialize(){
    var map = new google.maps.Map(document.getElementById("map"), {
      zoom: 14,
      center: new google.maps.LatLng(50.909528, 34.811726),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
    
    var polyline = new google.maps.Polyline({
      map: map,
      strokeColor: '#ff0000',
      strokeOpacity: 0.6,
      strokeWeight: 4,
      path:[
        new google.maps.LatLng(50.900651, 34.7967914),
        new google.maps.LatLng(50.907525, 34.8094085),
        new google.maps.LatLng(50.905631, 34.8217681),
        new google.maps.LatLng(50.909365, 34.8288063)
      ]
    });
    
    polyline.edit();
  }
</script>
<script type="text/javascript" src="http://code.google.com/js/prettify.js"></script>
</head>
<body onload="prettyPrint();initialize();">
  <h1>Edit Polyline for Google Map API V3</h1>
  <p>
  <b>Author:</b> ryshkin@gmail.com <br />
  <b>Licence:</b> Licensed under <a href="http://opensource.org/licenses/mit-license.php">MIT</a> license.<br />
  Extends the functionality of a class google.maps.Polyline with edit()<br />
  Enjoy guys:)  <br />
  Special thanks Jan Pieter Waagmeester <code>jieter@jpwaag.com</code> for the idea of using the library google.maps.geometry, which performs spherical linear interpolation between the two locations.
  </p>
  <h1>class google.maps.Polyline expanded as follows</h1>
  <table summary="class Map - Methods" width="90%">
    <tbody>
    <tr>
    <th>Methods</th>
    <th>Description</th>
    </tr>
    <tr class="odd">
      <td><code>edit(start?, options?)</code></td>
      <td>
        <p>
          Starts or stops editing polyline. 
        </p>
        <p>
          Optional parameter <code>start</code> indicates if to start or stop
          editing. Default is <code>true</code>. Pass <code>false</code> to stop
          editing. 
        </p>
        <p>
        Optional parameter <code>options</code> may have a <code>ghosts</code> parameter.
        <code>{ghosts: true}</code> <br/>
         
        If <code>ghosts</code> is set to <code>false</code> it will disable the ghost marker to instert 
        new points.
        </p>
      </td>
    </tr>
  </tbody>
  </table>
  <br /><br />
  <h1>How to use:</h1>
  <h4>Step 1 - Download script</h4>
  <a href="https://github.com/ubilabs/google.maps.polyline.edit/zipball/master">google.maps.polyline.edit.zip</a>
  <h4>Step 2 - Include script</h4>
  <br />
  If you want to use a flat geometry for the lines at a large scale, simply include the Google Map API and this library as shown below:
  <pre>
   &lt;head&gt;
     &lt;script type=&quot;text/javascript&quot; src=&quot;http://maps.google.com/maps/api/js?sensor=false&quot;&gt;&lt;/script&gt;
     &lt;script src=&quot;polyline.edit.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
   &lt;/head&gt;</pre>
  <br />
  If you want to use the spherical geometry for the lines at small scales, include the Google Map API, a library <code>google.maps.geometry</code> and this library as shown below:
   <pre>
   &lt;head&gt;
     &lt;script type=&quot;text/javascript&quot; src=&quot;http://maps.google.com/maps/api/js?<strong>libraries=geometry</strong>&sensor=false&quot;&gt;&lt;/script&gt;
     &lt;script src=&quot;polyline.edit.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
   &lt;/head&gt;</pre>
  <h4>Step 3 - Create and start editing the polyline</h4>
  <pre class="prettyprint lang-javascript">
  function initialize(){
    var map = new google.maps.Map(document.getElementById("map"), {
      zoom: 14,
      center: new google.maps.LatLng(50.909528, 34.811726),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
    
    var polyline = new google.maps.Polyline({
      map: map,
      strokeColor: '#ff0000',
      strokeOpacity: 0.6,
      strokeWeight: 4,
      path: [
        new google.maps.LatLng(50.900651, 34.7967914),
        new google.maps.LatLng(50.907525, 34.8094085),
        new google.maps.LatLng(50.905631, 34.8217681),
        new google.maps.LatLng(50.909365, 34.8288063)
      ]
    });
    polyline.edit();
  }</pre>
  <h4>Step 4 - Stop editing polyline</h4>
  <pre class="prettyprint lang-javascript">
    polyline.edit(false);</pre>

  <h1>A working example:</h1>
  <i>You can remove a point of the polyline by clicking the right mouse button.</i>
   <br /><br />
  <div id="map" style="width:500px; height:500px"></div>
</body>
</html>